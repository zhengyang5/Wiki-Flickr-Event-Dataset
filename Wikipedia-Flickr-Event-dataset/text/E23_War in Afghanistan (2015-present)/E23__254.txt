KABUL, Afghanistan (AP) â€” A Taliban suicide bomber struck the entrance to the Afghan parliament on Monday and gunmen tried to storm the heavily guarded compound, setting off a gunbattle with police that left two people dead as lawmakers were meeting inside to vote on the appointment of a new defense minister.

Afghan security forces managed to repel the attack, killing all seven gunmen and ensuring that no members of parliament were harmed. But the audacious assault came as the Taliban captured two districts in as many days in the country's north, displaying their ability to operate on multiple fronts.

Interior Ministry spokesman Sediq Sediqqi said the attack began with a car bomb explosion near the entrance to parliament. Gunmen then attempted to storm the compound but were pushed back by security forces and eventually corralled into a nearby building that was under construction.

Sediqqi later said all seven attackers were killed by police and that no members of parliament were harmed. "It is over now," he said.

Sediqqi said a woman and a 10-year-old girl were killed. Health Ministry spokesman Mohammad Ismail Kahousi said 31 civilians were wounded in the parliament attack, including two women and two children.

Sidiqa Mubarez, a member of parliament, said the building was rocked by the large explosion and that some people were wounded by flying glass. She said the explosion happened shortly after Masoom Stanekzai had arrived to be confirmed as defense minister, a post that has been vacant for nine months. The vote was delayed by the attack.

The Taliban claimed the attack. The militant group's spokesman, Zabihullah Mujahid, told The Associated Press by telephone that it targeted Stanekzai and the parliament itself. He said the assault showed the "capability of the mujahedeen, who can even attack the parliament in the capital."

An AP reporter who witnessed part of the assault heard heavy gunfire outside parliament and saw black smoke billowing from the entrance as ambulances raced to the scene. The reporter later heard sporadic shooting from the building where the militants were said to be holed up.

Just down the street, hundreds of children were evacuated from a school. Parents could be seen racing toward the building, shouting out the names of their children.

Afghan President Ashraf Ghani strongly condemned the assault.

"Targeting innocent people in the holy month of Ramadan is a clear act of hostility against the religion of Islam," his office said in a statement, adding that the perpetrators "are criminals who are bound by no creed or religion."

The attack on parliament came hours after the Taliban seized a second district in the northern Kunduz province, which has borne the brunt of their annual warm-weather offensive.

Mohammad Yusuf Ayubi, head of the provincial council, said the insurgents attacked the district of Dashti Archi from four sides and took full control of the area early Monday. He said local forces suffered casualties but did not have a precise count.

He said around 150,000 residents of the district were trapped by the fighting.

The Taliban confirmed that they had captured the district, as well as ammunition and four tanks, in an emailed statement.

The Taliban seized control of the Chardara district in Kunduz on Sunday. In April, the insurgents launched a surprise attack on the provincial capital, also called Kunduz, and nearly captured it before Afghan forces fended them off.

Afghan forces have struggled to fight off the Taliban since the U.S. and NATO combat mission officially concluded at the end of last year. More than 2,300 Afghan soldiers, police and pro-government fighters have been killed since the start of the year -- more than the total number of U.S. troops killed since the 2001 invasion that ended Taliban rule.

The war on the Taliban has also been hampered by months of bickering between President Ashraf Ghani and his election rival turned Chief Executive Abdullah Abdullah, which has repeatedly delayed the appointment of a defense minister.

The parliament's mandate expired on Monday, with no date yet for new elections. Ghani's office said in a statement Friday that he would announce a date for new elections within a month and that the assembly could continue meeting until they are held.