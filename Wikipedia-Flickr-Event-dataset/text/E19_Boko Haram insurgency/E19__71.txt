Image copyright AFP Image caption Leader Abubakar Shekau has announced a caliphate in areas Boko Haram controls

Nigeria's militant Islamist group Boko Haram has seized the key north-eastern town of Bama after fierce fighting with government forces, residents say.

Thousands of civilians have fled the town, along with soldiers, they added.

The military has not yet officially commented on the claim that it has lost control of Bama, the second biggest town in Borno state.

Last month, Boko Haram said it had established an Islamic state in areas it controls in north-eastern Nigeria.

Just when you imagine that it cannot get worse for the Nigerian military and its pride as a fighting force, it takes a further dive Mannir Dan Ali, Editor, Daily Trust Army pride wounded

If confirmed, the capture of Bama would be an extremely significant development and would raise concerns that Boko Haram's next target will be Maiduguri, the state capital about 70km (45 miles) away, says BBC Hausa service editor Mansur Liman in the capital, Abuja.

It would be the biggest town under Boko Haram control.

Residents told BBC Hausa that Boko Haram captured Bama after heavy fighting on Sunday and Monday.

The military had initially repelled Boko Haram's assault, but the group returned with reinforcements to seize the town, the residents said.

The militants, who travelled in armoured trucks, first took control of the military barracks, they added.

Soldiers and residents fled on foot, many of them walking all the way to Maiduguri, residents told the BBC.

Several security sources said Boko Haram had over-run much of Bama and there were heavy casualties on both sides, Reuters news agency reports.

About 70 militants had been killed, the Associated Press quoted security sources as saying.

On Monday, the military said on its Twitter account that the air force had been used to "repel and dislodge" Boko Haram from Bama.

Image copyright AFP Image caption Government troops are battling to defeat the well-armed insurgents

The most recent census, in 2006, showed the town had a population of about 270,000.

An overnight curfew has been imposed in Maiduguri to prevent "infiltration" by militants, it added.

Boko Haram's five-year insurgency has intensified in recent months despite the deployment of thousands of extra troops to the worst-affected areas.

In April, the militants captured more than 200 girls from a boarding school in the town of Chibok, also in Borno state.

Countries such as China, France, the UK and US have sent military assistance to help find the girls but they have not yet been rescued.