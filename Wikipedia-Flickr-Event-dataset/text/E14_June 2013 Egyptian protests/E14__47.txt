Image caption Egypt's old constitution was suspended last year after Hosni Mubarak was forced from power

Political parties in Egypt have agreed on how to select the 100-member panel that will write the country's new constitution, ending weeks of deadlock.

A deal was reached after talks between representatives of 22 parties and the head of the ruling military council.

Panel members from the parliament are expected to be elected next week.

The previous panel was suspended by a court after liberals and secularists walked out, saying it did not reflect the diversity of Egyptian society.

The constituent assembly will now include a range of politicians, members of the armed forces, the police, the judiciary and trade unions, as well as Muslim and Coptic Christian religious leaders.

The agreement came after the military council set a 48-hour deadline on Tuesday, threatening to propose an arrangement themselves if a deal was not reached.

Two-thirds majority

According to delegates cited by AFP news agency, 39 seats will be allocated to representatives of parties in the lower house of parliament, the People's Assembly, which is dominated by Islamists from the Muslim Brotherhood's Freedom and Justice Party and the Salafist Nour party.

Six seats on the constituent assembly also would be given to judges, while nine would go to experts in law, with one seat each for the armed forces, police and the justice ministry, the delegates said.

Analysis It took hours of negotiations and a 48-hour deadline, but Egypt seems to have come a step closer to having a body that will write its new constitution. Under the terms of the agreement, the body will include a range of politicians, members of the judiciary, the army, the police and the unions, as well as Muslim and Christian religious leaders. The head of Egypt's ruling military council, Field Marshal Tantawi, has called on Parliament to meet next week to elect the members of the panel. The military council has promised to hand over to a newly elected president by 1 July, but it is not yet clear what constitutional authority the next head of state will have. Liberals and secular groups walked out of the previous constitutional panel earlier this spring. They said it was dominated by Islamists, who form the biggest bloc in parliament.

Thirteen seats would be given to unions, while 21 public figures chosen at a meeting on Tuesday would also be appointed, they added.

Al-Azhar University, one of Sunni Islam's most important institutions, will be given five seats and the Coptic Orthodox Church of Egypt will get four, delegates added.

The talks between the political parties and the head of the Supreme Council of the Armed Forces (Scaf), Field Marshal Mohammed Hussain Tantawi, also concluded that any decision by the panel must be endorsed by a two-thirds majority.

Correspondents say one of the debates during the drafting process will be over whether the constitution should follow the principles of Islamic law more strictly.

The new document will also determine the rights of Egypt's religious and ethnic minority groups and the balance of power between the president - previously the supreme authority - and parliament.

The last panel was suspended by Cairo's Administrative Court on 10 April amid a boycott by groups who claimed liberals, secularists, women, young people and minorities were under-represented. Islamists had a near-majority on the panel.

The court ruling came after complaints by political groups and constitutional experts over parliament's decision to select the assembly itself and to allocate half the seats to sitting MPs.

The complaints said both moves violated Article 60 of the constitutional declaration adopted in a referendum last year - which does not state how the assembly should be appointed - and would also give Islamists unmatched influence over the constitution-drafting process.

Egypt is to hold a presidential election run-off on 16 and 17 June, where voters will be asked to choose between Mohammed Mursi, the chairman of the Freedom and Justice Party, and Ahmed Shafiq, a former air force chief who served as Hosni Mubarak's last prime minister.