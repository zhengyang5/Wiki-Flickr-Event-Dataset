The parents of Elliot Rodger had been desperately trying to stop their son carrying out his killing spree when they heard about the massacre in Isla Vista, California, on the radio, it emerged on Sunday.

Just minutes before the 22-year-old went on a knife and gun rampage in the student beach community on Friday, he emailed a 137-page manifesto detailing his plans to some 30 people including his mother, father and former teachers.

In that document Rodger, the son of Hollywood director Peter Rodger, details how he plans to first kill his housemates, then lure others to his residence to continue the violence before slaughtering women in a sorority and continuing his spree near the University of California Santa Barbara (UCSB).

Family friend Simon Astaire told Reuters that Rodger's mother, Chin Rodger, received a phone call on the night of the shooting from his therapist alerting her to the manifesto.

She called police and her ex-husband and the two parents raced to Isla Vista, he said. But it was too late – Ms Rodger heard radio reports about the shootings as she drove and police in Santa Barbara told the pair their son was believed to be the gunman.

Warning: Some viewers may find the following video disturbing

Rodger, who was born in London and moved to the US aged five, stabbed his three flatmates to death before shooting dead two young women outside a sorority house and then killing a young man inside the IV Deli Mart.

He then drove around the streets in his black BMW, randomly shooting at pedestrians. After getting into a gun battle with deputies, he turned the weapon on himself.

All six victims of the mass killing have been named by police: the three men stabbed to death were identified as 19-year-old George Chen and Cheng Yuan Hong and Weihan Wang, both 20; and the three people shot were named as 22-year-old Katie Cooper, 19-year-old Veronkia Weiss and 20-year-old Christopher Michael-Martinez.

Mr Astaire said that Rodger had seen therapists off and on since he was nine years old and was reserved to the point of seeming to have trouble communicating with “an underlying sadness about him, a frustration”.

But he added: "There was no suggestion that he had any interest, any liking for guns.”

In a video uploaded to YouTube the day before the massacre, entitled “Elliot Rodger’s Retribution”, the suspect chillingly foretells the killings. He describes his plans to shoot women and promises retribution for his “loneliness and frustration” at never having had a girlfriend and for being a virgin.

Cathleen Bloeser, 58, whose son was a childhood friend of the shooter and was included on the email chain, said it had become clear that Rodger’s behaviour was a source of concern in the lead-up to the tragedy.

“We could see that he was turning,” she said, adding that Rodger talked to her 22-year-old son and another friend about sexual crimes he wanted to commit against women.

She said Rodger had talked to her son about wanting to hold down and rape women. Within the last year, his mental health deteriorated and he was under psychiatric care but not taking his medication.

“He'd changed emotionally and he'd become very despondent and he wanted to get back at people,” she said.

Ms Bloeser said Rodger asked for her son, Philip, and their mutual childhood friend to stay with him at his apartment in Isla Vista during the weekend of the killings.

“I have a feeling that they would have been right there as a part of it and shot as well,” she said.

People stand during a candlelight vigil held to honor the victims of the massacre on the campus of the University of California, Santa Barbara

Her comments came after it was revealed police may have missed opportunities to stop Rodger, who they had already come across three times prior to the massacre, including during a welfare check last August.

Relatives had expressed concern about Rodger’s health after he posted a series of disturbing videos online - but no action was taken after Santa Barbara County Sheriff Department officials ruled that the young man appeared to be fine and was “polite and courteous”. Sheriff Bill Brown said he refused to “second guess” his officers' decision.

But in his manifesto Rodger reveals that if police had searched his room during their visit, they would have found incriminating evidence indicating his deadly intentions.

Rodger writes: “The police would have searched my room, found all of my guns and weapons, along with my writings about what I plan to do with them. I would have been thrown in jail, denied of the chance to exact revenge on my enemies. I can’t imagine a hell darker than that. Thankfully, that wasn’t the case, but it was so close.”

Authorities searched the homes of both of Rodger's parents on Sunday but neither appeared to be home at the time. The family’s lawyer, Alan Shifman, said they offered sympathy to those affected by the tragedy.

When police found Rodger dead in his car, they discovered three guns that were legally bought from licensed firearms dealers and were registered in his name. They also found more than 40 unused loaded gun magazines in the vehicle, indicating the extent of his plans.

Additional reporting by agencies