A few weeks later, Mr. Rodger stabbed his two roommates and another man to death in his apartment. He then shot 16 more people, three of them fatally, and was found dead with a bullet wound to his head, apparently self-inflicted, near the University of California, Santa Barbara.

Kelly Hoover, a spokeswoman for the Santa Barbara County Sheriff’s Office, would not elaborate on why no weapons check was done, and declined to confirm whether there would be an internal investigation of the visit.

But Hannah-Beth Jackson, the state senator who represents Santa Barbara, said a comprehensive investigation of the deputies’ visit to Mr. Rodger’s apartment was needed to give the public a full accounting of the events leading up to the massacre. “The community will not tolerate any half-baked approach to dealing with this,” Ms. Jackson said.

Newsletter Sign Up Continue reading the main story Please verify you're not a robot by clicking the box. Invalid email address. Please re-enter. You must select a newsletter to subscribe to. Sign Up You agree to receive occasional updates and special offers for The New York Times's products and services. Thank you for subscribing. An error has occurred. Please try again later. View all New York Times newsletters.

Law enforcement agencies across California have said that it is not necessarily standard practice to check the state gun registry before any check by officers on someone’s well-being. And the sheriff’s office has defended the six deputies who visited Mr. Rodger in April.

“Based on the information reviewed thus far, the sheriff’s office has determined that the deputies who responded handled the call in a professional manner consistent with state law and department policy,” Ms. Hoover said in an email on Saturday.

After Mr. Rodger’s rampage in Isla Vista, Ms. Jackson co-wrote legislation that would create a “gun-violence restraining order.” If family members or friends alert law enforcement that someone poses a threat to themselves or to others, law enforcement would then be able to petition a judge to prohibit the person from purchasing firearms.

Richard Martinez, the father of one of the victims, who has become an outspoken advocate of reforming gun laws, said on Saturday that he supported the bill.

Ms. Jackson said she planned to introduce further legislation designed to keep guns from people who could become violent, including a major overhaul in protocol for how the authorities follow up on calls from family members expressing worry that someone could hurt himself or others. She said a mental health professional, who is trained to identify mental illness, should accompany law enforcement.

“We need to completely re-evaluate protocols that are used when law enforcement is given info that someone potentially is a danger to themselves or to others,” Ms. Jackson said. “I think we need to check the gun registry. And then we have to find a balance for when it is appropriate for police to remove those firearms, and when it is not.”